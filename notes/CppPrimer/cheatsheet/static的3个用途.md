# static的3个用途

1. 内部链接（C/C++）的全局函数/变量声明使用static修饰，表示该函数/变量只在所在的编译单元内可见。与之相关的是外部链接声明，使用extern修饰。

2. 静态局部变量（C/C++）在函数第一次运行时初始化，函数结束后变量不被销毁，下一次进入函数时仍保持状态。普通的局部变量称为自动变量。

3. 静态成员函数/变量（C++）表示函数/变量不绑定至实例。静态变量除了声明外还需要在类之外显式定义。

---

## 代码案例

```c++
static int a = 0;		// 1. 内部链接的变量

static void f() {		// 1. 内部链接的函数
} 

int g() {
	static int b = 0;	// 2. 静态局部变量
	b++;
	return b;
}

class Foo {
	static void h();	// 3. 静态成员函数声明
	static int c;		// 3. 静态成员变量声明

	// 特殊：可以为静态成员提供const整数类型的类内初始值，且要求静态成员必须是字面值常量类型。
	static const int d = 10;
};

void Foo::h() {			// 3. 静态成员函数定义
}

int Foo::c = 0;			// 3. 静态成员变量定义
```

## 参考资料

数组前加static是什么意思？ - [Milo Yip的回答 - 知乎](https://www.zhihu.com/question/274217344/answer/379696251)
